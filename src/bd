-- Tabela USUARIO
CREATE TABLE USUARIO (
    id_usuario INT NOT NULL PRIMARY KEY AUTO_INCREMENT,
    nome VARCHAR(50) NOT NULL,
    email VARCHAR(50) NOT NULL,
    senha VARCHAR(10) NOT NULL,
    pontuacao INT,
    id_categoriaParticipacao INT,
    FOREIGN KEY (id_categoriaParticipacao) REFERENCES CATEGORIA_PARTICIPACAO(id_categoriaParticipacao)
);

-- Tabela CATEGORIA_PARTICIPACAO
CREATE TABLE CATEGORIA_PARTICIPACAO (
    id_categoriaParticipacao INT NOT NULL PRIMARY KEY AUTO_INCREMENT,
    descricao VARCHAR(100) NOT NULL
);

-- Tabela USUARIOCRIADOR_PELADA
CREATE TABLE USUARIOCRIADOR_PELADA (
    id_UsuarioCriadorPelada INT NOT NULL PRIMARY KEY AUTO_INCREMENT,
    id_Usuario INT NOT NULL,
    id_Pelada INT NOT NULL,
    FOREIGN KEY (id_Usuario) REFERENCES USUARIO(id_usuario),
    FOREIGN KEY (id_Pelada) REFERENCES PELADA(id_Pelada)
);

-- Tabela USUARIOPARTICIPANTE_PELADA
CREATE TABLE USUARIOPARTICIPANTE_PELADA (
    id_UsuarioPelada INT NOT NULL PRIMARY KEY AUTO_INCREMENT,
    id_UsuarioParticipante INT NOT NULL,
    id_Pelada INT NOT NULL,
    qtde_gols INT,
    qtde_assistencias INT,
    FOREIGN KEY (id_UsuarioParticipante) REFERENCES USUARIO(id_usuario),
    FOREIGN KEY (id_Pelada) REFERENCES PELADA(id_Pelada)
);

-- Tabela PELADA
CREATE TABLE PELADA (
    id_Pelada INT NOT NULL PRIMARY KEY AUTO_INCREMENT,
    tempoDuracao DOUBLE NOT NULL,
    nome VARCHAR(50) NOT NULL,
    logradouro VARCHAR(100) NOT NULL,
    numeroPorta INT NOT NULL,
    bairro VARCHAR(50) NOT NULL,
    cidade VARCHAR(50) NOT NULL,
    estado VARCHAR(50) NOT NULL,
    qtdeJogadores INT NOT NULL,
    data DATE,
    hora DOUBLE,
    id_Bairro INT NOT NULL,
    FOREIGN KEY (id_Bairro) REFERENCES BAIRRO(id_Bairro)
);

-- Tabela BAIRRO
CREATE TABLE BAIRRO (
    id_Bairro INT NOT NULL PRIMARY KEY AUTO_INCREMENT,
    nome VARCHAR(50) NOT NULL,
    id_Cidade INT,
    FOREIGN KEY (id_Cidade) REFERENCES CIDADE(id_Cidade)
);

-- Tabela CIDADE
CREATE TABLE CIDADE (
    id_Cidade INT NOT NULL PRIMARY KEY AUTO_INCREMENT,
    nome VARCHAR(50) NOT NULL,
    id_Estado INT NOT NULL,
    FOREIGN KEY (id_Estado) REFERENCES ESTADO(id_Estado)
);

-- Tabela ESTADO
CREATE TABLE ESTADO (
    id_Estado INT NOT NULL PRIMARY KEY AUTO_INCREMENT,
    nome VARCHAR(50)
);

-- Tabela RANKING_PELADA
CREATE TABLE RANKING_PELADA (
    id_RankingPelada INT NOT NULL PRIMARY KEY AUTO_INCREMENT,
    id_Ranking INT NOT NULL,
    id_Pelada INT NOT NULL,
    FOREIGN KEY (id_Ranking) REFERENCES RANKING(id_Ranking),
    FOREIGN KEY (id_Pelada) REFERENCES PELADA(id_Pelada)
);

-- Tabela RANKING
CREATE TABLE RANKING (
    id_Ranking INT NOT NULL PRIMARY KEY AUTO_INCREMENT,
    ano_Ocorrencia INT NOT NULL
);

-- Tabela RANKING_USUARIO
CREATE TABLE RANKING_USUARIO (
    id_RankingUsuario INT NOT NULL PRIMARY KEY AUTO_INCREMENT,
    id_Usuario INT NOT NULL,
    pontuacaoGeral INT,
    posicaoRanking INT NOT NULL,
    FOREIGN KEY (id_Usuario) REFERENCES USUARIO(id_usuario),
    FOREIGN KEY (pontuacaoGeral) REFERENCES USUARIO(pontuacao),
    FOREIGN KEY (id_Ranking) REFERENCES RANKING(id_Ranking)
);

